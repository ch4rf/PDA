<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Simulador PDA - L = {x* y^{2n} z^m z^{m+2} y^{3n} | n‚â•1, m‚â•2}</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- ===== SIDEBAR / MEN√ö LATERAL ===== -->
        <div id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>Men√∫</h2>
                <button onclick="toggleSidebar()" class="close-btn">√ó</button>
            </div>

            <!-- PANEL 1: DEFINICI√ìN FORMAL DEL AUT√ìMATA -->
            <div class="panel">
                <h3>Aut√≥mata de Pila (S√©ptupla)</h3>
                <div class="septuple">
                    <p><strong>Q</strong> = {q‚ÇÄ, q‚ÇÅ, q‚ÇÇ, q‚ÇÉ, q‚ÇÑ, q‚ÇÖ, q‚ÇÜ, q‚Çá, q‚Çà, q‚Çâ, q‚ÇÅ‚ÇÄ, q‚ÇÅ‚ÇÅ, q‚ÇÅ‚ÇÇ}</p>
                    <p><strong>Œ£</strong> = {x, y, z}</p>
                    <p><strong>Œì</strong> = {Y, Z}</p>
                    <p><strong>q‚ÇÄ</strong> = q‚ÇÄ</p>
                    <p><strong>Z‚ÇÄ</strong> = Z</p>
                    <p><strong>F</strong> = {q‚ÇÅ‚ÇÇ}</p>
                    <p><strong>Œ¥</strong> = {</p>
                    <div class="delta-function">
                        (q‚ÇÄ, x, Z) = (q‚ÇÄ, Z),<br>
                        (q‚ÇÄ, x, Y) = (q‚ÇÄ, Y),<br>
                        (q‚ÇÄ, y, Y) = (q‚ÇÅ, Y),<br>
                        (q‚ÇÄ, y, Z) = (q‚ÇÅ, Z),<br>
                        (q‚ÇÅ, y, Y) = (q‚ÇÄ, YY),<br>
                        (q‚ÇÅ, y, Z) = (q‚ÇÄ, YZ),<br>
                        (q‚ÇÄ, z, Y) = (q‚ÇÇ, Y),<br>
                        (q‚ÇÇ, z, Y) = (q‚ÇÉ, Y),<br>
                        (q‚ÇÉ, z, Y) = (q‚ÇÑ, Y),<br>
                        (q‚ÇÑ, z, Y) = (q‚ÇÖ, Y),<br>
                        (q‚ÇÖ, z, Y) = (q‚ÇÜ, Y),<br>
                        (q‚ÇÜ, z, Y) = (q‚Çá, Y),<br>
                        (q‚Çá, z, Y) = (q‚Çà, Y),<br>
                        (q‚Çà, z, Y) = (q‚Çá, Y),<br>
                        (q‚Çá, y, Y) = (q‚Çâ, Y),<br>
                        (q‚Çâ, y, Y) = (q‚ÇÅ‚ÇÄ, Y),<br>
                        (q‚ÇÅ‚ÇÄ, y, Œµ) = (q‚ÇÅ‚ÇÅ, Œµ),<br>
                        (q‚ÇÅ‚ÇÅ, y, Y) = (q‚Çâ, Y),<br>
                        (q‚ÇÅ‚ÇÅ, Œµ, Z) = (q‚ÇÅ‚ÇÇ, Œµ)
                    </div>
                    <p>}</p>
                </div>
            </div>

            <!-- PANEL 2: TABLA DE TRANSICIONES -->
            <div class="panel">
                <h3>Tabla de Transiciones</h3>
                <div class="table-wrapper">
                    <table id="trans-table">
                        <thead>
                            <tr>
                                <th>Desde</th>
                                <th>Lee</th>
                                <th>Pop</th>
                                <th>‚Üí</th>
                                <th>Push</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- PANEL 3: PRUEBAS DE CADENAS -->
            <div class="panel">
                <h3>Pruebas de Cadenas</h3>
                <div class="tests-section">
                    <h4>Cadena M√≠nima Aceptada:</h4>
                    <p><code>yyzzzzzzyyy</code></p>
                    
                    <h4>Cadena Promedio Aceptada:</h4>
                    <p><code>yyyyzzzzzzzzyyyyyy</code></p>
                </div>
            </div>

            <!-- PANEL 4: GRAM√ÅTICA Y DERIVACIONES -->
            <div class="panel">
                <h3>Gram√°tica y Derivaciones</h3>
                <div class="grammar-section">
                    <h4>Producciones:</h4>
                    <table class="grammar-table">
                        <tbody>
                            <tr><td>S ‚Üí X Y Z F</td></tr>
                            <tr><td>X ‚Üí x X | Œª</td></tr>
                            <tr><td>Y ‚Üí y y Y'</td></tr>
                            <tr><td>Y' ‚Üí y y Y' | Œª</td></tr>
                            <tr><td>Z ‚Üí z z z z z z Z'</td></tr>
                            <tr><td>Z' ‚Üí z z Z' | Œª</td></tr>
                            <tr><td>F ‚Üí y y y F'</td></tr>
                            <tr><td>F' ‚Üí y y y F' | Œª</td></tr>
                        </tbody>
                    </table>
                    
                    <h4>Cadena M√≠nima Aceptada: yyzzzzzzyyy</h4>
                    <div class="derivation">
                        S ‚Üí X Y Z F ‚Üí Y Z F ‚Üí y y Y' Z F ‚Üí y y Z F<br>
                        ‚Üí y y z z z z z z Z' F ‚Üí y y z z z z z z F<br>
                        ‚Üí y y z z z z z z y y y F' ‚Üí yyzzzzzzyyy
                    </div>
                    
                    <h4>Cadena Promedio Aceptada: yyyyzzzzzzzzyyyyyy</h4>
                    <div class="derivation">
                        S ‚Üí X Y Z F ‚Üí Y Z F ‚Üí y y Y' Z F ‚Üí y y y y Y' Z F<br>
                        ‚Üí y y y y Z F ‚Üí y y y y z z z z z z Z' F<br>
                        ‚Üí y y y y z z z z z z z z Z' F ‚Üí y y y y z z z z z z z z F<br>
                        ‚Üí y y y y z z z z z z z z y y y F'<br>
                        ‚Üí y y y y z z z z z z z z y y y y y y F'<br>
                        ‚Üí yyyyzzzzzzzzyyyyyy
                    </div>
                </div>
            </div>

            <!-- PANEL 5: EXPRESI√ìN REGULAR -->
            <div class="panel">
                <h3>Expresi√≥n Regular</h3>
                <div class="regex-section">
                    <p><strong>L = x*(yy)<sup>+</sup> z<sup>m</sup> z<sup>m+2</sup> (yyy)<sup>+</sup></strong></p>
                    <p>Donde: n ‚â• 1, m ‚â• 2</p>
                </div>
            </div>

            <!-- PANEL 6: DESCRIPCI√ìN DE FUNCIONAMIENTO -->
            <div class="panel">
                <h3>Descripci√≥n de Funcionamiento</h3>
                <div class="description-section">
                    <p>Este aut√≥mata de pila reconoce cadenas con la estructura:</p>
                    <ol>
                        <li>Cero o m√°s <strong>x</strong> (opcionales)</li>
                        <li><strong>2n</strong> s√≠mbolos <strong>y</strong> (n ‚â• 1)</li>
                        <li><strong>m</strong> s√≠mbolos <strong>z</strong> seguidos de <strong>m+2</strong> s√≠mbolos <strong>z</strong></li>
                        <li><strong>3n</strong> s√≠mbolos <strong>y</strong> al final</li>
                    </ol>
                    <p>La pila se usa para contar y verificar las relaciones entre los bloques.</p>
                </div>
            </div>

            <!-- PANEL 7: CONTROLES GLOBALES -->
            <div class="panel">
                <div class="btn-group menu-btn-group">
                    <button onclick="pda.reset()">Reinicio Completo</button>
                </div>
            </div>
        </div>

        <!-- ===== CONTENIDO PRINCIPAL ===== -->
        <div class="main">
            <div class="header">
                <button onclick="toggleSidebar()" class="menu-btn">Men√∫</button>
                <h1>Simulador PDA</h1>
                 <a href="https://drive.google.com/drive/folders/1sARGTAG5YHPLq8oUxLrpWJsxPNZyizfN?usp=sharing" 
       target="_blank" class="drive-btn" title="Ver documentaci√≥n en Google Drive">
       üìÅ Documentaci√≥n
    </a>
            </div>

            <div class="content">
                <!-- SECCI√ìN: GRAFO + VISUALIZACI√ìN DE PILA -->
                <div class="graph-and-stack">
                    <div class="graph-section">
                        <canvas id="graph" width="1400" height="500"></canvas>
                    </div>
                    
                    <!-- VISUALIZACI√ìN DE PILA -->
                    <div class="stack-sidebar">
                        <div class="stack-title">VISUALIZACI√ìN DE PILA</div>
                        <div class="stack-container">
                            <div class="stack-elements" id="stack-elements">
                                <div class="stack-element vacio">‚àÖ</div>
                            </div>
                        </div>
                        <div class="stack-operation" id="stack-operation">
                            Esperando simulaci√≥n...
                        </div>
                    </div>
                </div>

                <!-- SECCI√ìN: CONTROLES DE SIMULACI√ìN -->
                <div class="controls-section">
                    <div class="controls-inline">
                        <input type="text" id="input-w" placeholder="Ingresa cadena (ej: yyzzzzzzyyy)">
                        <div class="btn-group">
                            <button onclick="pda.load()">Cargar</button>
                            <button onclick="pda.step()">Paso</button>
                            <button onclick="pda.run()">Ejecutar Todo</button>
                            <button onclick="pda.reset()">Limpiar</button>
                        </div>
                    </div>
                    <div id="status" class="status"></div>
                </div>

                <!-- SECCI√ìN: FUNCI√ìN EXTENDIDA / DESCRIPCIONES INSTANT√ÅNEAS -->
                <div class="trace-section">
                    <h3>Funci√≥n Extendida (Descripciones Instant√°neas)</h3>
                    <div class="table-wrapper">
                        <table id="trace-table">
                            <thead>
                                <tr>
                                    <th>Paso</th>
                                    <th>Estado</th>
                                    <th>Restante</th>
                                    <th>Pila</th>
                                    <th>Transici√≥n</th>
                                </tr>
                            </thead>
                            <tbody id="trace-tbody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>